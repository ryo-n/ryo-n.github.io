<!doctype html><html class=no-js lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#1b1b1b"><title>CODINGAME SPRING CHALLENGE 2021 参加記 | ryo_n</title><script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script><meta name=description content><link rel=stylesheet href=/css/bundle.css><link rel=icon href=/icons/16.png sizes=16x16 type=image/png><link rel=icon href=/icons/32.png sizes=32x32 type=image/png></head><body class="body kind-page"><header class=header><a class=logo href=/>ryo_n</a><nav class=main-nav role=navigation><button id=toggle class=main-nav__btn aria-label="Menu toggle" aria-expanded=false tabindex=0><div class=main-nav__btn-box tabindex=-1><svg class="main-nav__icon icon-menu" width="18" height="18" viewBox="0 0 18 18"><path class="icon-menu__burger" d="M18 0v3.6H0V0h18zM0 10.8h18V7.2H0v3.6zM0 18h18v-3.6H0V18z"/><path class="icon-menu__x" d="M11.55 9 18 15.45 15.45 18 9 11.55 2.55 18 0 15.45 6.45 9 0 2.55 2.55.0 9 6.45 15.45.0 18 2.55 11.55 9z"/></svg></div></button><ul id=menu class=main-nav__list><li class=main-nav__item><a class=main-nav__link href="https://www.notion.so/ry0n/2d7eed95099e45a89ba0e25ba22fa65d?v=2cc963f963444f148962fc0ebd8f1e97"><span class=main-nav__text>問題解説</span></a></li></ul></nav></header><div class=primary><main class=main><div class="single block"><article class=entry><div class="entry__meta meta mb"><time class="entry__meta-published meta-published" datetime=2021-05-17T17:14:19+09:00>May 17, 2021</time></div><h1 class=entry__title>CODINGAME SPRING CHALLENGE 2021 参加記</h1><div class=entry__content><h1 id=はじめに>はじめに</h1><p>Codingame初参加。<br>結果はGold Leagueで総合386位だった。<br><img src=/images/2021spring_codingame_result.png alt=結果></p><p>アルゴリズムではPythonを利用しているが、Codingameでは計算量が多そうなイメージだったのでRustで参加。<br>結果的には手を読んだりするロジックは書いていないのでPythonでも十分だった。</p><h1 id=戦術>戦術</h1><p>次の手を読んだりすることなく、与えられたpossible_actionsから強そうな手を選択するという戦術。<br>選択する際のロジックは下記に列挙する。</p><ul><li>COMPLETE > GROW size2の木 > GROW size1の木 > GROW size0の種 > SEED の優先度でアクションをする<ul><li>同じ日にGROW size2の木 -> COMPLETEとするのと、COMPLETE -> GROW size2の木 とするのでは消費sunポイントが異なる</li><li>上記順番でアクションをすると無駄な消費sunポイントを抑えることができる</li><li>COMPLETEアクションをするかどうかは細かなif文で制御<ul><li>size3の木が５本以上あった場合</li><li>敵にスコア差をつけられていた場合</li><li>19日移行、かつスコアに大差をつけていない場合</li></ul></li></ul></li><li>自分の木の影にならないところにSEEDを撒く<ul><li>自分の木の影になるところに置くと、6日中2日 自分の木同士が影で妨害しあうことになりsunポイントを稼げなくなってしまうため</li><li>自分の木から6方向に2距離伸ばしたcellに対してはSEEDを撒かないようにした<ul><li>自分の木同士一切かぶらないよう、6方向に3距離伸ばしたcellに対してはSEEDを撒かないようにしたがが弱かった<ul><li>置ける場所が少なくなるため、、?</li></ul></li></ul></li><li>敵の木も考慮した方が良かったかもしれない</li></ul></li><li>翌日のsunポイントを最大に受け取れるようCOMPLETE対象を選ぶ<ul><li>COMPLETE対象が複数あった場合、翌日受け取れるsunポイントが最大になる木を選ぶ</li><li>COMPLETE対象の木を消した盤面を作り、翌日の太陽向きから計算をする<ul><li>自分が取得するsunポイント - 相手が取得するsunポイントが最大になる木を選ぶ</li></ul></li><li>翌日影になっていてsunポイントをを取得できない、相手の木を影で妨害できていない木が選ばれることとなる</li></ul></li><li>翌日のsunポイントを最大に受け取れるようGROW対象を選ぶ<ul><li>GROW対象が複数あった場合、翌日受け取れるsunポイントが最大になる木を選ぶ</li><li>GROW対象の木のsizeを増やした盤面を作り、翌日の太陽向きから計算をする<ul><li>自分が取得するsunポイント - 相手が取得するsunポイントが最大になる木を選ぶ</li></ul></li><li>sizeが増えることにより、敵の木を影で妨害できたり、敵の木の影の妨害対象外となる木が選ばれることとなる</li></ul></li><li>SEEDは最大1個しか置かないようにする<ul><li>この実装によりSEEDは0sunポイント消費になる</li></ul></li><li>size3の木が5本を超えないようにする<ul><li>5本超えると自分の木同士で影を作り合っている可能性が高いので実装</li><li>かなり感覚的なもの</li></ul></li><li>敵にスコア差つけられていたらCOMPLETEをする<ul><li>序盤のnutrientsの恩恵を敵に回収されないよう実装</li></ul></li><li>序盤 (day5まで) はsize2の木を成長させない<ul><li>これは盤面を見ていてなんとなく入れた実装</li></ul></li><li>終盤ロジック<ul><li>終盤はGROW size0の種などをしてもCOMPLETEすることができないのでGROWの行動自体停止<ul><li>GROWしたことによりsunポイントを消費sunポイントより多く獲得できることもあるので改善の余地はあった</li></ul></li><li>nutrientsが枯渇している状態はCOMPLETEをしない<ul><li>状況によっては0スコアしか獲得できないのにCOMPLETEして4sunポイント(1スコア相当)を消費していたりしたので実装</li></ul></li></ul></li></ul><h1 id=開発環境>開発環境</h1><p><a href=https://www.codingame.com/forum/t/cg-local/10359>CG Local</a>
というCodingameが利用しているツールを利用し、ローカルのIDEでコーディングをした。<br>盤面を眺めていて挙動がおかしい部分があった場合は、対戦相手と盤面seedをCodingame IDEに持ってきてprintデバッグをしていた。<br>(対戦相手と盤面seedをIDEに反映させる機能がある)</p><ul><li>Rust<ul><li>流行りにのって選択</li></ul></li><li>CLion<ul><li>IDEとして利用</li></ul></li><li>git<ul><li>機能追加時にコミットしバージョン管理をした</li></ul></li><li>CG Local<ul><li>ローカルファイルをCodingame IDE上に自動でアップロードしてくれるツール</li></ul></li></ul></div><footer class=entry__footer><div class=entry__tags><a class="entry__tag btn" href=/tags/codingame/>codingame</a></div></footer></article></div></main></div><footer class=footer><div class="footer__social social"><a class=social__link target=_blank rel="noopener noreferrer" href=https://twitter.com/ryo_n_code><svg class="social__icon" aria-label="Twitter" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M437 152a72 72 0 01-40 12 72 72 0 0032-40 72 72 0 01-45 17 72 72 0 00-122 65 2e2 2e2.0 01-145-74 72 72 0 0022 94 72 72 0 01-32-7 72 72 0 0056 69 72 72 0 01-32 1 72 72 0 0067 50A2e2 2e2.0 0193 368a2e2 2e2.0 00309-179 2e2 2e2.0 0035-37"/></svg></a><a class=social__link target=_blank rel="noopener noreferrer" href=https://github.com/ryo-n><svg class="social__icon" aria-label="Github" role="img" width="32" height="32" viewBox="0 0 512 512"><path d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg></a></div><div class=footer__copyright>© 2021 map[holder:ryo_n startyear:2020]. <span class=footer__copyright-credits>Powered by <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/vimux/binario rel="nofollow noopener" target=_blank>Binario</a> theme.</span></div></footer><script src=/js/menu.js></script></body></html>